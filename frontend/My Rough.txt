Frontend-Backend Integration Guide - newDay Realty
ðŸŽ¯ Overview
This guide documents the complete integration of the React frontend with the Node.js/Express backend, creating a fully functional real estate application with authentication, property management, and contact functionality.

ðŸ“‹ Integration Steps Completed
Step 1: Environment Configuration
File: 
frontend/.env

Created environment variables for API configuration:

VITE_API_URL=http://localhost:5000/api
Documentation: 
STEP_01_ENVIRONMENT_CONFIG.txt

Step 2: API Configuration Layer
File: 
frontend/src/config/api.js

Created centralized API configuration with:

All API endpoints organized by feature
Authentication header helpers
Base fetch wrapper with error handling
import { API_ENDPOINTS, apiFetch } from '../config/api';
// Example usage
const data = await apiFetch(API_ENDPOINTS.PROPERTIES.BASE);
Documentation: 
STEP_02_API_CONFIG.txt

Step 3: Authentication Service
File: 
frontend/src/services/authService.js

Handles all authentication operations:

register(userData)
 - User registration
login(email, password)
 - User login
logout()
 - User logout
getCurrentUser()
 - Get current user
updateDetails(userData)
 - Update profile
updatePassword(current, new)
 - Change password
Documentation: 
STEP_03_AUTH_SERVICE.txt

Step 4: Property Service
File: 
frontend/src/services/propertyService.js

Manages property operations:

getProperties(filters)
 - Get all properties with filters
getProperty(id)
 - Get single property
getFeaturedProperties()
 - Get featured properties
searchProperties(term)
 - Search properties
createProperty(data)
 - Create new property
updateProperty(id, data)
 - Update property
deleteProperty(id)
 - Delete property
approveProperty(id)
 - Approve property (admin)
Documentation: 
STEP_04_PROPERTY_SERVICE.txt

Step 5: Contact Service
File: 
frontend/src/services/contactService.js

Handles contact form and admin management:

submitContact(data)
 - Submit contact form (public)
getContacts(filters)
 - Get all contacts (admin)
getContact(id)
 - Get single contact (admin)
updateContactStatus(id, status)
 - Update status (admin)
replyToContact(id, message)
 - Reply to contact (admin)
deleteContact(id)
 - Delete contact (admin)
Documentation: 
STEP_05_CONTACT_SERVICE.txt

Step 6: User Service
File: 
frontend/src/services/userService.js

Admin user management:

getUsers(filters)
 - Get all users (admin)
getUser(id)
 - Get single user (admin)
getUserStats()
 - Get user statistics (admin)
updateUser(id, data)
 - Update user (admin)
deleteUser(id)
 - Delete user (admin)
toggleUserStatus(id)
 - Activate/deactivate user (admin)
Documentation: 
STEP_06_USER_SERVICE.txt

Step 7: Update AuthContext
File: 
frontend/src/context/AuthContext.jsx

Refactored to use authService:

Cleaner separation of concerns
Added 
updateDetails()
 method
Added 
updatePassword()
 method
Uses service helper functions
Documentation: 
STEP_07_UPDATE_AUTHCONTEXT.txt

Step 8: Update Contact Page
File: 
frontend/src/Pages/Contact.jsx

Integrated with contactService:

Real API submission
Error handling and display
Success feedback
Form validation
Documentation: 
STEP_08_UPDATE_CONTACT.txt

Step 9: Testing Integration
Documentation: 
STEP_09_TESTING_INTEGRATION.txt

Comprehensive testing guide covering:

Starting backend and frontend servers
Testing authentication flow
Testing contact form
Checking backend logs
Verifying data in MongoDB
Common issues and solutions
Step 10: Summary and Next Steps
Documentation: 
STEP_10_SUMMARY.txt

Complete overview including:

Architecture diagram
Data flow examples
What's working
What needs integration
Deployment checklist
Testing checklist
ðŸ—ï¸ Project Structure
newDayRealty/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ .env (configured)
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ db.js
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ authController.js
â”‚   â”‚   â”œâ”€â”€ propertyController.js
â”‚   â”‚   â”œâ”€â”€ contactController.js
â”‚   â”‚   â””â”€â”€ userController.js
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”œâ”€â”€ auth.js
â”‚   â”‚   â”œâ”€â”€ errorHandler.js
â”‚   â”‚   â””â”€â”€ validator.js
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ User.js
â”‚   â”‚   â”œâ”€â”€ Property.js
â”‚   â”‚   â””â”€â”€ Contact.js
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ authRoutes.js
â”‚   â”‚   â”œâ”€â”€ propertyRoutes.js
â”‚   â”‚   â”œâ”€â”€ contactRoutes.js
â”‚   â”‚   â””â”€â”€ userRoutes.js
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ errorResponse.js
â”‚   â”‚   â””â”€â”€ jwtUtils.js
â”‚   â”œâ”€â”€ server.js
â”‚   â”œâ”€â”€ seeder.js
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ QUICKSTART.md
â”‚   â””â”€â”€ postman_collection.json
â”‚
â””â”€â”€ frontend/
    â”œâ”€â”€ .env (configured) âœ…
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ config/
    â”‚   â”‚   â””â”€â”€ api.js âœ…
    â”‚   â”œâ”€â”€ services/
    â”‚   â”‚   â”œâ”€â”€ authService.js âœ…
    â”‚   â”‚   â”œâ”€â”€ propertyService.js âœ…
    â”‚   â”‚   â”œâ”€â”€ contactService.js âœ…
    â”‚   â”‚   â””â”€â”€ userService.js âœ…
    â”‚   â”œâ”€â”€ context/
    â”‚   â”‚   â””â”€â”€ AuthContext.jsx âœ… (updated)
    â”‚   â”œâ”€â”€ components/
    â”‚   â”‚   â”œâ”€â”€ ProtectedRoute.jsx
    â”‚   â”‚   â”œâ”€â”€ Navbar.jsx
    â”‚   â”‚   â”œâ”€â”€ Footer.jsx
    â”‚   â”‚   â””â”€â”€ LoadingSpinner.jsx
    â”‚   â”œâ”€â”€ Pages/
    â”‚   â”‚   â”œâ”€â”€ Home.jsx
    â”‚   â”‚   â”œâ”€â”€ About.jsx
    â”‚   â”‚   â”œâ”€â”€ Contact.jsx âœ… (integrated)
    â”‚   â”‚   â”œâ”€â”€ Properties.jsx
    â”‚   â”‚   â”œâ”€â”€ Login.jsx âœ… (integrated)
    â”‚   â”‚   â”œâ”€â”€ UserDashboard.jsx
    â”‚   â”‚   â”œâ”€â”€ Admin.jsx
    â”‚   â”‚   â””â”€â”€ NotFound.jsx
    â”‚   â”œâ”€â”€ App.jsx
    â”‚   â””â”€â”€ main.jsx
    â”œâ”€â”€ STEP_01_ENVIRONMENT_CONFIG.txt âœ…
    â”œâ”€â”€ STEP_02_API_CONFIG.txt âœ…
    â”œâ”€â”€ STEP_03_AUTH_SERVICE.txt âœ…
    â”œâ”€â”€ STEP_04_PROPERTY_SERVICE.txt âœ…
    â”œâ”€â”€ STEP_05_CONTACT_SERVICE.txt âœ…
    â”œâ”€â”€ STEP_06_USER_SERVICE.txt âœ…
    â”œâ”€â”€ STEP_07_UPDATE_AUTHCONTEXT.txt âœ…
    â”œâ”€â”€ STEP_08_UPDATE_CONTACT.txt âœ…
    â”œâ”€â”€ STEP_09_TESTING_INTEGRATION.txt âœ…
    â”œâ”€â”€ STEP_10_SUMMARY.txt âœ…
    â””â”€â”€ package.json
ðŸš€ Quick Start
1. Start Backend Server
cd d:\newDayRealty\backend
npm run dev
Expected output:

âœ… MongoDB Connected: mongodb://localhost:27017/newdayrealty
ðŸš€ Server running on port 5000 in development mode
2. Start Frontend Server
cd d:\newDayRealty\frontend
npm run dev
Expected output:

VITE v5.x.x  ready in xxx ms
âžœ  Local:   http://localhost:5173/
3. Open Browser
Navigate to: http://localhost:5173

ðŸ”„ Data Flow Example
User Login Flow
1. User enters credentials in Login.jsx
   â†“
2. handleLogin() calls useAuth().login()
   â†“
3. AuthContext.login() calls authService.login()
   â†“
4. authService.login() calls apiFetch(API_ENDPOINTS.AUTH.LOGIN)
   â†“
5. apiFetch() adds auth headers and makes fetch request
   â†“
6. Backend /api/auth/login validates credentials
   â†“
7. Backend returns { success: true, token, user }
   â†“
8. authService stores token and user in localStorage
   â†“
9. AuthContext updates state (setToken, setUser)
   â†“
10. Login.jsx navigates to /admin or /dashboard based on role
Contact Form Submission Flow
1. User fills form in Contact.jsx
   â†“
2. handleSubmit() calls contactService.submitContact(formData)
   â†“
3. Service makes POST to /api/contact with form data
   â†“
4. Backend validates data
   â†“
5. Backend saves to MongoDB contacts collection
   â†“
6. Backend returns { success: true, message, data }
   â†“
7. Frontend shows success message
   â†“
8. Form clears
âœ… What's Working
âœ… User registration and login
âœ… JWT token authentication
âœ… Role-based routing (user/admin)
âœ… Protected routes
âœ… Contact form submission to database
âœ… Error handling and display
âœ… Loading states
âœ… Token persistence in localStorage
âœ… Auto-navigation based on user role
âœ… Logout functionality
ðŸ”² What Needs Integration
The following features have services created but need UI integration:

Properties Page
Fetch properties from backend using propertyService.getProperties()
Display in PropertyCard components
Implement filters using query parameters
Add search functionality
User Dashboard
Fetch user's properties
Create new property form
Edit/delete property functionality
Favorites feature
Admin Dashboard
Fetch all users using userService.getUsers()
Fetch all properties
Fetch all contacts using contactService.getContacts()
Approve/reject properties
User management UI
Statistics display using userService.getUserStats()
ðŸ§ª Testing Guide
Test Authentication
# 1. Open browser to http://localhost:5173/login
# 2. Register new user
# 3. Verify redirect to dashboard
# 4. Check localStorage for token and user
# 5. Logout and login again
# 6. Register admin user
# 7. Verify redirect to /admin
Test Contact Form
# 1. Navigate to http://localhost:5173/contact
# 2. Fill out form
# 3. Submit
# 4. Verify success message
# 5. Check backend terminal for POST /api/contact
# 6. Check MongoDB for new contact entry
Verify Backend Logs
Backend should show:

POST /api/auth/register 201
POST /api/auth/login 200
GET /api/auth/me 200
POST /api/contact 201
Check Browser Console
Open DevTools (F12)
Console tab - check for errors
Network tab - filter XHR
Verify API calls to localhost:5000
Check response status codes (200/201)
ðŸ› Troubleshooting
CORS Error
Problem: Access-Control-Allow-Origin error
Solution:

Check 
backend/.env
 has FRONTEND_URL=http://localhost:5173
Restart backend server
Network Error
Problem: Failed to fetch or Network error
Solution:

Verify backend is running on port 5000
Check 
frontend/.env
 has correct VITE_API_URL
Restart frontend dev server
MongoDB Connection Error
Problem: MongoServerError: connect ECONNREFUSED
Solution:

Ensure MongoDB is running
Check MONGODB_URI in 
backend/.env
Try: mongod or check Windows Services
401 Unauthorized
Problem: API returns 401 error
Solution:

Token expired or invalid
Logout and login again
Check token in localStorage
403 Forbidden
Problem: Access denied error
Solution:

User trying to access admin route
Check user role in localStorage
Verify backend authorization middleware
ðŸ“š API Endpoints Reference
Authentication
POST /api/auth/register - Register user
POST /api/auth/login - Login user
GET /api/auth/me - Get current user (protected)
PUT /api/auth/updatedetails - Update profile (protected)
PUT /api/auth/updatepassword - Change password (protected)
GET /api/auth/logout - Logout (protected)
Properties
GET /api/properties - Get all properties (public)
GET /api/properties/:id - Get single property (public)
GET /api/properties/featured - Get featured (public)
GET /api/properties/search?q=term - Search (public)
POST /api/properties - Create property (protected)
PUT /api/properties/:id - Update property (protected)
DELETE /api/properties/:id - Delete property (protected)
PUT /api/properties/:id/approve - Approve (admin)
Contact
POST /api/contact - Submit form (public)
GET /api/contact - Get all (admin)
GET /api/contact/:id - Get single (admin)
PUT /api/contact/:id/status - Update status (admin)
PUT /api/contact/:id/reply - Reply (admin)
DELETE /api/contact/:id - Delete (admin)
Users
GET /api/users/stats - Statistics (admin)
GET /api/users - Get all users (admin)
GET /api/users/:id - Get single user (admin)
PUT /api/users/:id - Update user (admin)
DELETE /api/users/:id - Delete user (admin)
PUT /api/users/:id/toggle-status - Toggle status (admin)
ðŸ“ Code Examples
Using Services in Components
import propertyService from '../services/propertyService';
import { useAuth } from '../context/AuthContext';
function PropertiesPage() {
  const [properties, setProperties] = useState([]);
  const [loading, setLoading] = useState(true);
  const { isAuthenticated } = useAuth();
  useEffect(() => {
    fetchProperties();
  }, []);
  const fetchProperties = async () => {
    setLoading(true);
    const result = await propertyService.getProperties({
      type: 'Villa',
      minPrice: 1000000,
      maxPrice: 5000000
    });
    if (result.success) {
      setProperties(result.data);
    }
    setLoading(false);
  };
  const handleSearch = async (searchTerm) => {
    const result = await propertyService.searchProperties(searchTerm);
    if (result.success) {
      setProperties(result.data);
    }
  };
  return (
    <div>
      {loading ? <LoadingSpinner /> : (
        <div>
          {properties.map(property => (
            <PropertyCard key={property._id} property={property} />
          ))}
        </div>
      )}
    </div>
  );
}
ðŸŽ¯ Next Steps
Complete Properties Page Integration

Replace mock data with API calls
Add loading states
Implement filters and search
Complete User Dashboard

Fetch user's properties
Add create property form
Implement edit/delete
Complete Admin Dashboard

Integrate all services
Display real statistics
Add user management UI
Property approval workflow
Add Image Upload

File upload functionality
Cloudinary integration (optional)
Enhance UI/UX

Toast notifications
Better error messages
Loading skeletons
Pagination component
ðŸŽ‰ Summary
âœ… Complete API service layer created
âœ… All backend endpoints accessible from frontend
âœ… Authentication system fully integrated
âœ… Contact form connected to database
âœ… Error handling implemented
âœ… 10 step-by-step documentation files created
âœ… Testing guide provided
âœ… Troubleshooting guide included

Your frontend is now successfully connected to your backend! ðŸš€

All integration files are located in:

d:\newDayRealty\frontend\STEP_*.txt
For detailed information on each step, refer to the individual step files.